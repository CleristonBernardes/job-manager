# Job Manager
Manage tradies' job assignment


## Execute the API
- node 8.4.0
- local mongoDB instance

```sh
$ npm install
$ npm start
```

## Endpoints
* [/jobs](/jobs) - (GET) Get jobs.
* [/tradies](/tradies) - (GET) Get tradies.
* [/job/:id](/job/5a1d330907983dce5e2199ea) - (GET) Get job by ID.
* [/tradie/:id](/job/5a1d330907983dce5e2199ea) - (GET) Get tradie by ID.
* [/jobs/assignments/:job_id](/jobs/assignments/5a1d330907983dce5e2199ea) - (GET) Get job assignments.


* [/job](/job) - (POST) Creates a job.
  * params {
      postcode: String,
      category: String,
      description: String,
      customer_name: String,
      email: String,
      mobile: String,
      status: {
        type: String,
        default: "new",
        enum: ["new", "assigned", "hired"]
      },
      active: {
        type: Boolean,
        default: true
      }
    }
* [/tradie](/tradie) - (POST) Creates a tradie.
  * params {
      mobile: String,
      email: String,
      name: String,
      active: {
        type: Boolean,
        default: true
      },
      jobs: [String]
    }
* [/assign](/assign) - (POST) Assign a tradie to a job.
  * params {
      job_id: String,
      tradie_id: String,
      description: String
    }
* [/hire/:job_assign_id](/hire/:5a1d330907983dce5e2199ea) - (POST) Mark a tradie as hired.

## Notes
- Only job and tradie are cached. Configured for 30seconds.
- Once the tradie is hired, all the assigmnents are canceled.


## Test considerations

### Config
Verbose config
- Set verbose true to see the summary of each test (including performance), but not logs
- Set verbose false to see the log generated by each test.
```
"verbose": true
```

### Execute
```
npm test
```
or
```
npm t
```